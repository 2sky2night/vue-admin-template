import{J as h,ai as c,o as l,c as d,Q as v,T as j,R as _,X as s,W as B,F as C,k as A,u as m,a9 as D,U as E,S as M,a as p,Y as L,V as W,r as k,d as oe,w as J,i as ne,a4 as I,L as Q,$ as se,M as O,Z as V,ah as ae,aw as le,ay as X,az as Y}from"./@vue-cb7885ae.js";import{d as ce,s as Z}from"./pinia-b26a74c5.js";import{u as re,r as ue,_ as $}from"./index-b8f1988d.js";import{u as ie}from"./theme-f025bb6e.js";import{u as H,b as G}from"./vue-router-17231333.js";import{a as U}from"./element-plus-1b9aa95a.js";import"./vue-demi-71ba0ef2.js";import"./nprogress-360dbc20.js";import"./dayjs-93a65184.js";import"./@element-plus-91cae1ef.js";import"./lodash-es-36eb724a.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";import"./@vueuse-da74ae22.js";const _e=ce("sideBar",{state(){return{showFlag:window.innerWidth>800,windowFlag:window.innerWidth>800}},actions:{toggleWindow(e){this.windowFlag=e},toggleShow(){this.showFlag=!this.showFlag}}});function P(e=!1){const t=_e(),{showFlag:o,windowFlag:r}=Z(t);return e&&window.addEventListener("resize",()=>{window.innerWidth>800&&r.value===!1?(t.toggleWindow(!0),o.value||t.toggleShow()):window.innerWidth<=800&&r.value===!0&&(t.toggleWindow(!1),o.value&&t.toggleShow())}),{showFlag:o,windowFlag:r,toggleShow:t.toggleShow}}const de={key:2},me={key:3},q=h({__name:"MenuTitle",props:{route:null},setup(e){return(t,o)=>{const r=c("ElementPlus"),n=c("el-icon");return l(),d(C,null,[e.route.meta&&e.route.meta.icon?(l(),v(j(e.route.meta.icon),{key:0,class:"el-icon"})):(l(),v(n,{key:1},{default:_(()=>[s(r)]),_:1})),e.route.meta&&e.route.meta.title?(l(),d("span",de,B(e.route.meta.title),1)):(l(),d("span",me,B(e.route.path),1))],64)}}}),pe=h({__name:"MenuItem",props:{route:null},setup(e){const t=e,o=re(),r=A(()=>t.route.meta.permission?t.route.meta.permission.includes(o.role):!0);return(n,u)=>{const a=c("MenuItem",!0),i=c("el-sub-menu"),f=c("el-menu-item");return e.route.children&&e.route.children.length>0&&m(r)?(l(),v(i,{key:0,index:e.route.path},{title:_(()=>[s(q,{route:e.route},null,8,["route"])]),default:_(()=>[(l(!0),d(C,null,D(e.route.children,g=>(l(),v(a,{route:g,key:g.path},null,8,["route"]))),128))]),_:1},8,["index"])):e.route.meta&&m(r)?(l(),v(f,{key:1,index:e.route.path},{default:_(()=>[s(q,{route:e.route},null,8,["route"])]),_:1},8,["index"])):E("",!0)}}}),fe=h({__name:"SideBar",setup(e){const t=ue[0].children||[],{showFlag:o,windowFlag:r,toggleShow:n}=P();return(u,a)=>{const i=c("DArrowLeft"),f=c("el-icon"),g=c("el-menu");return l(),v(g,{collapse:!m(o)&&m(r),router:"","default-active":u.$route.path,class:"menu",style:{border:"none","flex-grow":"1"},"text-color":"#dcdcdc","background-color":"#2c4a68"},{default:_(()=>[(l(!0),d(C,null,D(m(t),x=>(l(),v(pe,{route:x,key:x.path},null,8,["route"]))),128)),M(p("div",{onClick:a[0]||(a[0]=(...x)=>m(n)&&m(n)(...x)),class:"side-bar-hide-btn"},[s(f,{color:"#dcdcdc"},{default:_(()=>[s(i)]),_:1})],512),[[L,m(o)&&!m(r)]])]),_:1},8,["collapse","default-active"])}}});const ve=h({__name:"DarkBtn",setup(e){const t=ie(),{isDark:o}=Z(t);return(r,n)=>{const u=c("el-switch");return l(),v(u,{"active-text":"深色","inactive-text":"亮色",onChange:m(t).toggleDark,"model-value":m(o)},{default:_(()=>[W("点我")]),_:1},8,["onChange","model-value"])}}}),he=()=>{const e=k("");return oe(()=>{const t=document.documentElement;e.value=getComputedStyle(t).getPropertyValue("--el-color-primary")}),J(e,()=>{document.documentElement.style.setProperty("--el-color-primary",e.value)}),{themeColor:e}},ge=h({__name:"Setting",setup(e){const{themeColor:t}=he(),o=k(!1);return(r,n)=>{const u=c("Setting",!0),a=c("el-icon"),i=c("el-color-picker"),f=c("el-form-item"),g=c("el-form"),x=c("el-drawer");return l(),d(C,null,[s(a,{size:"20",onClick:n[0]||(n[0]=S=>o.value=!o.value),style:{cursor:"pointer"}},{default:_(()=>[s(u)]),_:1}),s(x,{size:300,modelValue:o.value,"onUpdate:modelValue":n[2]||(n[2]=S=>o.value=S),title:"设置"},{default:_(()=>[s(g,null,{default:_(()=>[s(f,{label:"主题色"},{default:_(()=>[s(i,{modelValue:m(t),"onUpdate:modelValue":n[1]||(n[1]=S=>ne(t)?t.value=S:null)},null,8,["modelValue"])]),_:1}),s(f,{label:"主题模式"},{default:_(()=>[s(ve)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),we=h({__name:"RouteTag",props:{title:null,path:null,isActive:{type:Boolean}},emits:["deleteHistoryTag"],setup(e,{emit:t}){const o=e,r=H();function n(){r.push(o.path)}function u(){const{path:a,isActive:i}=o;t("deleteHistoryTag",a,i)}return(a,i)=>{const f=c("Close"),g=c("el-icon");return l(),d("li",{class:Q(e.isActive?"tag-active":""),onClick:n},[p("span",null,B(e.title),1),e.path!=="/dashboard"?(l(),v(g,{key:0,onClick:I(u,["stop"]),class:"tag-close-icon"},{default:_(()=>[s(f)]),_:1},8,["onClick"])):E("",!0)],2)}}});const ye=$(we,[["__scopeId","data-v-e96434fd"]]),xe=h({__name:"RouteTags",setup(e){const t=se([]),o=G(),r=H(),n=k(null),u=k(null),a=k(0),i=100,f=k(!0);J(()=>o.path,()=>{const w=g();if(w!==-1)x(w);else{const y={title:o.meta&&o.meta.title?o.meta.title:o.path,path:o.path,isActive:!1};x(t.push(y)-1)}},{immediate:!0});function g(){return t.findIndex(w=>w.path===o.path)}function x(w){t.forEach(y=>{y.isActive=!1}),t[w].isActive=!0}function S(w,y){y&&(r.push("/dashboard"),t.some(b=>{if(b.path==="/dashboard")return b.isActive=!0,!0})),t.some((b,F,R)=>{if(b.path===w)return R.splice(F,1),!0}),a.value=0}function ee(){const w=n.value.clientWidth,y=u.value.clientWidth,b=n.value.offsetLeft;w!==y&&(y+-1*b<w-i?a.value-=i:a.value=-(w-y))}function te(){if(a.value!==0){if(-1*a.value<=i){a.value=0;return}a.value+=i}}function z(){n.value.clientWidth<=u.value.clientWidth?(f.value=!1,a.value=0):f.value=!0}const N=()=>{z()};return window.addEventListener("resize",()=>{z(),a.value=0}),(w,y)=>{const b=c("ArrowLeftBold"),F=c("el-icon"),R=c("ArrowRightBold");return l(),d("div",{class:"route-tags-contianer",style:O({padding:f.value?"0 20px":"0"})},[M((l(),d("button",{class:"route-btn route-btn-left",onClick:te},[s(F,null,{default:_(()=>[s(b)]),_:1})])),[[N],[L,f.value]]),p("div",{class:"route-tags-box",ref_key:"routeWindowDOM",ref:u},[p("ul",{ref_key:"routeTagsDOM",ref:n,style:O({left:a.value+"px"})},[(l(!0),d(C,null,D(t,T=>(l(),v(ye,{onDeleteHistoryTag:S,key:T.path,title:T.title,path:T.path,"is-active":T.isActive},null,8,["title","path","is-active"]))),128))],4)],512),M((l(),d("button",{class:"route-btn route-btn-right",onClick:ee},[s(F,null,{default:_(()=>[s(R)]),_:1})])),[[N],[L,f.value]])],4)}}});const be=$(xe,[["__scopeId","data-v-d0253abb"]]),ke={key:0},$e={key:1},Se=h({__name:"BreadCrumdList",setup(e){const t=G(),o=A(()=>t.matched.slice(1));return(r,n)=>{const u=c("el-breadcrumb-item"),a=c("el-breadcrumb");return l(),v(a,{separator:"/"},{default:_(()=>[(l(!0),d(C,null,D(m(o),i=>(l(),v(u,{key:i.path,to:i.path},{default:_(()=>[i.meta&&i.meta.title?(l(),d("span",ke,B(i.meta.title),1)):(l(),d("span",$e,B(i.path),1))]),_:2},1032,["to"]))),128))]),_:1})}}}),Be={class:"func-btns"},Ce=h({__name:"FuncBtns",setup(e){function t(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}return(o,r)=>{const n=c("Search"),u=c("el-icon"),a=c("FullScreen");return l(),d("div",Be,[s(u,null,{default:_(()=>[s(n)]),_:1}),s(u,{onClick:t},{default:_(()=>[s(a)]),_:1})])}}});const Fe=$(Ce,[["__scopeId","data-v-fcfc20cd"]]),Te={key:0,class:"message-box"},Me=["innerHTML"],Le={class:"message-btns"},De=h({__name:"MessageBox",props:{title:null,content:null,closeMessageBox:{type:Function}},setup(e,{expose:t}){const o=e,r=k(!0);function n(u){r.value=!1,setTimeout(()=>{o.closeMessageBox(u)},600)}return t({showFlag:r}),(u,a)=>(l(),v(V,{appear:"",name:"msg"},{default:_(()=>[r.value?(l(),d("div",Te,[p("h2",null,[p("span",null,B(e.title),1),p("span",{onClick:a[0]||(a[0]=i=>n(!1))},"x")]),p("div",{class:"message-content",innerHTML:e.content},null,8,Me),p("div",Le,[s(m(U),{onClick:a[1]||(a[1]=I(i=>n(!1),["stop"]))},{default:_(()=>[W("取消")]),_:1}),s(m(U),{type:"primary",onClick:a[2]||(a[2]=I(i=>n(!0),["stop"]))},{default:_(()=>[W("确认")]),_:1})])])):E("",!0)]),_:1}))}});const Re=$(De,[["__scopeId","data-v-b865dc1a"]]);function We(e="标题",t="内容"){return new Promise((o,r)=>{const n=document.createElement("div");n.classList.add("message-box-container");const u=i=>{i?o("confirm"):r("cancel"),n.remove()},a=ae(Re,{title:e,content:t,closeMessageBox:u});le(a,n),document.body.insertAdjacentElement("beforeend",n),n.addEventListener("click",({target:i})=>{i===n&&(a.component.exposed.showFlag.value=!1,setTimeout(()=>{u(!1)},500))})})}const Ie=e=>(X("data-v-ace7f10e"),e=e(),Y(),e),Ae={class:"drop-box"},Ee=Ie(()=>p("li",null,"关于",-1)),Ve=h({__name:"DropBox",setup(e){const t=k(!1),o=H();function r(){We("提示","确认退出?").then(()=>{localStorage.removeItem("token"),o.push("/login")})}return(n,u)=>{const a=c("el-avatar");return l(),d("div",Ae,[s(a,{onClick:u[0]||(u[0]=i=>t.value=!t.value),class:"user-avatar",shape:"square",src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),s(V,{name:"el-fade-in-linear"},{default:_(()=>[M(p("ul",{onMouseleave:u[1]||(u[1]=i=>t.value=!1),class:"drop-list"},[Ee,p("li",{onClick:r},"退出")],544),[[L,t.value]])]),_:1})])}}});const He=$(Ve,[["__scopeId","data-v-ace7f10e"]]),K=e=>(X("data-v-01c4aedb"),e=e(),Y(),e),Pe={class:"header-container"},ze={class:"top-bar"},Ne=K(()=>p("span",null,"admin",-1)),Oe=K(()=>p("div",null,null,-1)),Ue=h({__name:"Header",setup(e){const{toggleShow:t,showFlag:o}=P();return(r,n)=>{const u=c("Menu"),a=c("el-icon");return l(),d("div",Pe,[p("div",ze,[p("div",null,[s(a,{onClick:m(t),class:"toggle-side-bar-btn"},{default:_(()=>[s(u)]),_:1},8,["onClick"]),s(Se)]),p("div",null,[s(Fe),s(He),Ne,s(ge)])]),s(be),Oe])}}});const qe=$(Ue,[["__scopeId","data-v-01c4aedb"]]);const je={},Je={class:"main-panel"};function Qe(e,t){const o=c("router-view");return l(),d("div",Je,[s(o,null,{default:_(({Component:r})=>[s(V,{name:"page"},{default:_(()=>[(l(),v(j(r)))]),_:2},1024)]),_:1})])}const Xe=$(je,[["render",Qe],["__scopeId","data-v-2defbb63"]]),Ye=h({__name:"Layout",setup(e){const{windowFlag:t,showFlag:o}=P(!0),r=A(()=>{let n="";return n+=t.value?"":"aside-small-window",!t.value&&o.value?n+=" aside-small-show":t.value&&!o.value&&(n+=" aside-hide"),n});return(n,u)=>{const a=c("el-aside"),i=c("el-header"),f=c("el-main"),g=c("el-container");return l(),v(g,null,{default:_(()=>[s(a,{class:Q(m(r))},{default:_(()=>[s(fe)]),_:1},8,["class"]),s(g,null,{default:_(()=>[s(i,{height:"80",style:{padding:"0"}},{default:_(()=>[s(qe)]),_:1}),s(f,{style:{padding:"0"}},{default:_(()=>[s(Xe)]),_:1})]),_:1})]),_:1})}}});const vt=h({__name:"Home",setup(e){return(t,o)=>(l(),v(Ye))}});export{vt as default};
